<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Anvesi1 Software</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container mt-5">
        <h1 class="text-center mb-4">Anvesi Software</h1>
        <h3 class="text-center" id="currentDate"></h3>
        
        <div class="card p-4 shadow-lg">
            <h3 class="text-center">Clock In/Out</h3>
            <div class="text-center">
                <input type="time" id="clockInTime" class="form-control w-50 d-inline" placeholder="Clock In Time">
                <button class="btn btn-success m-2" onclick="clockIn()">Clock In</button>
            </div>
            <div class="text-center mt-3">
                <input type="time" id="clockOutTime" class="form-control w-50 d-inline" placeholder="Clock Out Time">
                <button class="btn btn-danger m-2" onclick="clockOut()">Clock Out</button>
            </div>
            <div class="text-center mt-3">
                <button class="btn btn-primary" onclick="saveEntries()">Save</button>
            </div>
        </div>
        
        <div class="card p-4 shadow-lg mt-4">
            <h3 class="text-center">History</h3>
            <ul id="history" class="list-group mt-3"></ul>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            loadHistory();
            displayCurrentDate();
        });

        function displayCurrentDate() {
            const today = new Date();
            const formattedDate = today.toDateString();
            document.getElementById("currentDate").textContent = formattedDate;
        }

        function clockIn() {
            const time = document.getElementById("clockInTime").value;
            if (time) {
                saveHistory("Clock In: " + time);
            } else {
                alert("Please enter a valid time.");
            }
        }

        function clockOut() {
            const time = document.getElementById("clockOutTime").value;
            if (time) {
                saveHistory("Clock Out: " + time);
            } else {
                alert("Please enter a valid time.");
            }
        }

        function saveEntries() {
            const clockInTime = document.getElementById("clockInTime").value;
            const clockOutTime = document.getElementById("clockOutTime").value;
            
            if (clockInTime) {
                saveHistory("Clock In: " + clockInTime);
            }
            if (clockOutTime) {
                saveHistory("Clock Out: " + clockOutTime);
            }
            
            if (clockInTime || clockOutTime) {
                alert("Entries saved successfully!");
            } else {
                alert("Please enter at least one time entry.");
            }
        }

        function saveHistory(entry) {
            let history = JSON.parse(localStorage.getItem("history")) || [];
            history.unshift(entry); // Add new entry to the beginning
            localStorage.setItem("history", JSON.stringify(history));
            loadHistory();
        }

        function loadHistory() {
            let history = JSON.parse(localStorage.getItem("history")) || [];
            const historyList = document.getElementById("history");
            historyList.innerHTML = "";
            history.forEach(item => {
                let li = document.createElement("li");
                li.className = "list-group-item";
                li.textContent = item;
                historyList.appendChild(li);
            });
        }
    </script>
</body>
</html>
